_G.DashCD = -5;-- Cooldown between different dashes.
_G.DashSpeed = 4650;-- The speed at which you dash.
_G.DashDistance = 65;-- The distance you get with each dash.

if (_G.OldWait) then hookfunction(wait, _G.OldWait); end;-- In case the script is re-executed, it doesn't cause lag.

local Players = game:GetService("Players");
local Player = Players.LocalPlayer;

local DashCDConsts = {"Disconnect", "WalkSpeed", 0, "AutoRotate"};-- Identifies the CD stage.
local DashDtConsts = {"UserInputType", "Enum", "MouseButton1"};-- Identifies the DashDistance stage.

local function ModifyDash()
    local HumanoidRootPart = Player.Character.HumanoidRootPart
    local Dash = HumanoidRootPart.Dash;
    local Distance = (Dash.Position - HumanoidRootPart.Position);
    local Direction = Distance.Unit;
    Dash.P = _G.DashSpeed;
    Dash.Position = HumanoidRootPart.Position + Direction * _G.DashDistance;
end;

local OldWait;
OldWait = hookfunction(wait, function (Secs, ...)
    if (getcallingscript().Name ~= "ClientControl") then return OldWait(Secs, ...); end;
    local Consts = debug.getconstants(3);
    if (Consts[1] == DashCDConsts[1] and Consts[2] == DashCDConsts[2] and Consts[3] == DashCDConsts[3] and Consts[4] == DashCDConsts[4]) then-- Enough Identification
        Secs = _G.DashCD;
    elseif (Consts[1] == DashDtConsts[1] and Consts[2] == DashDtConsts[2] and Consts[3] == DashDtConsts[3] and Secs == 0.4) then
        pcall(ModifyDash);
    end;
    return OldWait(Secs, ...);
end);
_G.OldWait = OldWait;-- Backing up in case of re-execution


-- PvP Block for ipad
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local mobileHUD = player.PlayerGui:FindFirstChild("MobileHUD")
local blockPosition = UDim2.new(0, 1310, 0, 770)

-- Function to set the Block position
local function setBlockPosition()
    if mobileHUD then
        local block = mobileHUD:FindFirstChild("Block")
        if block then
            block.Position = blockPosition
        end
    end
end

-- Function to monitor changes in PlayerGui
local function monitorPlayerGui()
    while true do
        if mobileHUD then
            local block = mobileHUD:FindFirstChild("Block")
            if block then
                if block.Position ~= blockPosition then
                    block.Position = blockPosition
                end
            end
        end
        wait(1) -- Check every second
    end
end

-- Setup initial Block position
setBlockPosition()

-- Monitor PlayerGui changes and continuously ensure Block's position
RunService.Heartbeat:Connect(function()
    setBlockPosition()
end)

-- Monitor PlayerGui for Block position changes
monitorPlayerGui()

-- Handle character respawn
player.CharacterAdded:Connect(function(character)
    -- Reinitialize MobileHUD after character respawn
    mobileHUD = player.PlayerGui:FindFirstChild("MobileHUD")
    -- Ensure Block's position is maintained
    setBlockPosition()
end)
